<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/analytics.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <title>GymFit -- Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <app-layout role="<%= role %>" username="<%= username %>" announcements='<%- JSON.stringify(LA) %>'></app-layout>
    <main id="mainContent">
        <section class="analytics-summery">
            <div class="analytics-summary__header">
                <h1>Analytics Dashboard</h1>
                <p>Get comprehensive insights into your gym's performance metrics and member activities.</p>
                <div class="analytics-summary__meta">
                    <div class="analytics-summary__meta-item">
                        <strong>Last updated:</strong> Today at 10:30 AM
                    </div>
                    <div class="analytics-summary__meta-item">
                        <strong>Data period:</strong> Apr 1 - Apr 30, 2025
                    </div>
                    <div class="analytics-summary__time">Live data</div>
                </div>
            </div>
            <div class="analytics-summary__cards">
                <analytics-card title="Total Members" data="<%= stats.totalMembers%>" icon="users" icon-color="#FF9A62" icon-bg="#fff3e0"
                    trend-percentage="8.5" trend-direction="up" trend-period="last month">
                </analytics-card>
                <analytics-card title="Total revenue" data="<%= stats.TotalRevenue %> DZD" icon="revenue" icon-color="#5470FF"
                    icon-bg="#EFF1FF" trend-percentage="12.3" trend-direction="up" trend-period="last month">
                </analytics-card>

                <analytics-card title="Monthly Revenue" data="<%= stats.monthlyRevenue %> DZD" icon="revenue" icon-color="#5470FF"
                    icon-bg="#EFF1FF" trend-percentage="12.3" trend-direction="up" trend-period="last month">
                </analytics-card>

                <analytics-card title="Daily Visits" data="<%= stats.newSignUps%>" icon="visits" icon-color="#00C07F" icon-bg="#E8F5F0"
                    trend-percentage="4.2" trend-direction="up" trend-period="yesterday">
                </analytics-card>
            </div>
        </section>
        <section class="analytics_chart">
            <div class="revenue-chart-container">
                <div class="chart-header">
                    <h2 class="chart-title">Revenue Chart</h2>
                    <select class="chart-dropdown">
                        <option value="monthly">Monthly</option>
                        <option value="weekly">Weekly</option>
                        <option value="daily">Daily</option>
                    </select>
                </div>
                <div class="chart-wrapper">
                    <canvas id="revenueChart" width="600" height="300"></canvas>
                </div>
            </div>
        </section>

        <!-- Registration Section with Analytics Cards and Table -->
        <section class="registrations-section">
            <div class="registrations-layout">
                <!-- Left side analytics cards - 1/3 width -->
                <div class="left-analytics-cards">
                    <!-- Using the custom analytics-card component -->
                    <analytics-card title="New Members" data="<%=stats.newMembers%>" icon="users" icon-color="#FF9A62" icon-bg="#fff3e0"
                        trend-percentage="12.5" trend-direction="up" trend-period="last month">
                    </analytics-card>

                    <analytics-card title="Active Members" data="<%=stats.dailyCheckIns%>" icon="activity" icon-color="#5470FF"
                        icon-bg="#EFF1FF" trend-percentage="3.2" trend-direction="down" trend-period="previous month">
                    </analytics-card>

                    <analytics-card title="Daily Visits" data="<%=stats.newSignUps%>" icon="chart" icon-color="#00C07F" icon-bg="#E8F5F0"
                        trend-percentage="5.7" trend-direction="up" trend-period="last week">
                    </analytics-card>
                </div>

                <!-- Right side table - 2/3 width -->
                <div class="registrations-container">
                    <div class="section-header">
                        <h2 class="section-title">Recent Registrations</h2>
                        <div class="section-actions">
                            <button class="view-all-btn">View All</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="registrations-table">
                            <thead>
                                <tr>
                                    <th class="sortable">Name</th>
                                    <th class="sortable">Date · Time</th>
                                    <th class="sortable">Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="member-name">Ahmed Benmoussa</td>
                                    <td class="registration-time">01.05.2025 · 09:24 AM</td>
                                    <td><span class="status-badge pending">Pending</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Mohammed Khaled</td>
                                    <td class="registration-time">30.04.2025 · 16:42 PM</td>
                                    <td><span class="status-badge registered">Registered</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Amina Benali</td>
                                    <td class="registration-time">30.04.2025 · 14:15 PM</td>
                                    <td><span class="status-badge registered">Registered</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Karim Mehdaoui</td>
                                    <td class="registration-time">30.04.2025 · 10:37 AM</td>
                                    <td><span class="status-badge not-approved">Not Approved</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Yasmine Boudiaf</td>
                                    <td class="registration-time">29.04.2025 · 17:53 PM</td>
                                    <td><span class="status-badge registered">Registered</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Ahmed Benmoussa</td>
                                    <td class="registration-time">01.05.2025 · 09:24 AM</td>
                                    <td><span class="status-badge pending">Pending</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Mohammed Khaled</td>
                                    <td class="registration-time">30.04.2025 · 16:42 PM</td>
                                    <td><span class="status-badge registered">Registered</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Amina Benali</td>
                                    <td class="registration-time">30.04.2025 · 14:15 PM</td>
                                    <td><span class="status-badge registered">Registered</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Karim Mehdaoui</td>
                                    <td class="registration-time">30.04.2025 · 10:37 AM</td>
                                    <td><span class="status-badge not-approved">Not Approved</span></td>
                                </tr>
                                <tr>
                                    <td class="member-name">Yasmine Boudiaf</td>
                                    <td class="registration-time">29.04.2025 · 17:53 PM</td>
                                    <td><span class="status-badge registered">Registered</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script src="../../scripts/components/app-layout.js"></script>
    <script src="../../scripts/components/analytic-card.js"></script>
    <script src="../../scripts/ownerjs/analytics.js"></script>
</body>

</html>